<div *ngIf="this.table">
  <h3>{{ table.name }}</h3>
  <sbb-accordion [multi]="true">
    <sbb-expansion-panel [expanded]="true">
      <sbb-expansion-panel-header>Keys</sbb-expansion-panel-header>
      <ul>
        <li *ngFor="let key of table.keys().slice(0, 5)">
          {{ key.toString() }}
        </li>
      </ul>
    </sbb-expansion-panel>

    <sbb-expansion-panel [expanded]="true">
      <sbb-expansion-panel-header>
        Functional Dependencies
      </sbb-expansion-panel-header>
      <div *ngIf="fds.length > 0">
        <sbb-radio-group #fdSelection>
          <sbb-radio-button *ngFor="let fd of fds.slice(0, 10)" [value]="fd">
            {{ fd.toString() }}
          </sbb-radio-button>
        </sbb-radio-group>
        <br />
        <button
          type="button"
          sbb-button
          [disabled]="!selectedFd()"
          (click)="splitSelectedFd()"
        >
          Split Functional Dependency
        </button>
      </div>
    </sbb-expansion-panel>

    <sbb-expansion-panel [expanded]="true">
      <sbb-expansion-panel-header
        >Inclusion Dependencies</sbb-expansion-panel-header
      >
      <sbb-radio-group #indSelection>
        <sbb-radio-button *ngFor="let rel of inds.slice(0, 10)" [value]="rel">{{
          rel[0].toString()
        }}</sbb-radio-button>
      </sbb-radio-group>
      <br />
      <button
        type="button"
        sbb-button
        [disabled]="!selectedInd()"
        (click)="joinSelectedInd()"
      >
        Join Inclusion Dependency
      </button>
    </sbb-expansion-panel>
  </sbb-accordion>
</div>

<input
  type="text"
  sbbInput
  placeholder="Schema Name"
  (input)="onInputChange($event)"
/>

<button
  type="button"
  sbbButton
  [disabled]="!this.schemaName"
  (click)="persistSchema.emit(this.schemaName)"
>
  Persist Schema
</button>

<button
  type="button"
  sbbButton
  [disabled]="!this.schemaName"
  (click)="download.emit()"
>
  Download SQL
</button>
