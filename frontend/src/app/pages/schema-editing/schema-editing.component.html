<div class="grid-container">
  <div>
    <button sbb-button (click)="graph.resetView()" id="reset-btn" class="me-1">
      Reset view
    </button>
    <button type="button" sbb-button (click)="onAutoNormalize(false)">
      {{ "Auto-normalize all tables" }}
    </button>
    <app-undo-redo
      class="undo-redo"
      [canUndo]="commandProcessor.canUndo()"
      [canRedo]="commandProcessor.canRedo()"
      (undo)="onUndo()"
      (redo)="onRedo()"
    ></app-undo-redo>
  </div>
  <div>
    <!-- [selectedTable]="this.selectedTable"
    (selected)="onSelect($event)" -->
    <app-schema-graph
      [schema]="schema"
      [(selectedTable)]="selectedTable"
      [selectedColumns]="selectedColumns"
      [schemaChanged]="schemaChanged.asObservable()"
      (joinFk)="onClickJoin($event)"
    ></app-schema-graph>
  </div>

  <div class="item-sidebar">
    <div class="grid-container-sidebar">
      <div>
        <h2>Schemaexport</h2>
        <div class="mb-1">
          <app-persist-schema [schema]="schema"></app-persist-schema>
        </div>
        <div>
          <app-save-schema-editing [schema]="schema"> </app-save-schema-editing>
        </div>
      </div>
      <app-schema-editing-side-bar
        class="schema-editing-side-bar"
        *ngIf="selectedTable"
        [table]="selectedTable"
        [schema]="schema"
        (splitFd)="onClickSplit($event)"
        (indToFk)="onIndToFk($event)"
        (autoNormalizeSelectedTable)="onAutoNormalize()"
      ></app-schema-editing-side-bar>
    </div>
  </div>
</div>
